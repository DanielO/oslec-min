SRCS=		echo.c echotest.c fifo.c

OBJS=		$(SRCS:.c=.o)
HDRS=		
PROG=		echotest

SPANDSP=	spandsp

CFLAGS=		@CFLAGS@ -O0 -g -Wall -I $(SPANDSP)
CPPFLAGS=	@CPPFLAGS@
LDFLAGS=	@LDFLAGS@ $(EFENCE)
DEFS=		@DEFS@
LIBS=		@LIBS@

PORTAUDIO_CFLAGS= @PORTAUDIO_CFLAGS@
PORTAUDIO_LIBS=	@PORTAUDIO_LIBS@

SRC_CFLAGS=	@SRC_CFLAGS@
SRC_LIBS= 	@SRC_LIBS@

PTHREAD_CFLAGS=	@PTHREAD_CFLAGS@
PTHREAD_LIBS=	@PTHREAD_LIBS@

CFLAGS+=	$(PTHREAD_CFLAGS) $(PORTAUDIO_CFLAGS) $(SRC_CFLAGS)
LIBS+=		$(PTHREAD_LIBS) $(PORTAUDIO_LIBS) $(SRC_LIBS)

all:		$(PROG)

%.o: %.c $(HDRS)
	$(CC) $(CPPFLAGS) $(CFLAGS) $(DEFS) -c -o $@ $<

$(PROG):	$(OBJS)
	$(CC) -o $@ $(OBJS) $(LIBS)

clean:
	$(RM) -f $(OBJS) $(PROG)